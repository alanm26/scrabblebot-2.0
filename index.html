<!DOCTYPE html>
<html>
  <head>
    <title>Scrabble Checker - Hot Springs</title>
  </head>
  <body>
    <h1>Scrabble Checker - Hot Springs</h1>
    <label for="input-box">Enter letters:</label>
    <input type="text" id="input-box">
    <button onclick="searchWords()">Search</button>
    <p id="results"></p>

    <script>
      async function searchWords() {
        const input = document.getElementById("input-box").value.trim().toLowerCase();
        const response = await fetch("words.txt");
        const words = (await response.text()).split("\n").map((line) => line.trim().split(","));
        const results = [];

        for (const line of words) {
          if (line.length > 1) {
            const category = line[0];
            const words = line.slice(1);

            const categoryResults = words.filter(
              (word) => word.length > 0 && !isSubstring(word, input) && isAnagram(word, input)
            );

            if (categoryResults.length > 0) {
              results.push(`${category}: ${categoryResults.join(", ")}`);
            }
          }
        }

        const resultsText = results.length > 0 ? results.join("<br>") : "No matches found.";
        document.getElementById("results").innerHTML = resultsText;
      }

      function isSubstring(word, input) {
        return input.includes(word);
      }

      function isAnagram(word, input) {
        const wordChars = word.split("");
        const inputChars = input.split("");

        if (wordChars.length !== inputChars.length) {
          return false;
        }

        const wordCounts = {};
        const inputCounts = {};

        for (const char of wordChars) {
          wordCounts[char] = (wordCounts[char] || 0) + 1;
        }

        for (const char of inputChars) {
          inputCounts[char] = (inputCounts[char] || 0) + 1;
        }

        for (const char of Object.keys(wordCounts)) {
          if (wordCounts[char] !== inputCounts[char]) {
            return false;
          }
        }

        return true;
      }
    </script>
  </body>
</html>

