<!DOCTYPE html>
<html>
  <head>
    <title>Scrabble Checker - Hot Springs</title>
  </head>
  <body>
    <h1>Scrabble Checker - Hot Springs</h1>
    <label for="input-box">Enter letters:</label>
    <input type="text" id="input-box">
    <button onclick="searchWords()">Search</button>
    <p id="results"></p>

    <script>
      async function searchWords() {
        const input = document.getElementById("input-box").value.trim().toLowerCase();
        const response = await fetch("words.txt");
        const lines = (await response.text()).split("\n");
        const categories = new Map();
        for (let line of lines) {
          const parts = line.split(",");
          const category = parts[0].trim();
          const words = parts.slice(1).map((word) => word.trim());
          categories.set(category, words);
        }
        const results = [];
        for (let [category, words] of categories.entries()) {
          const categoryResults = words
            .filter((word) => word.length > 0 && !isSubstring(word, input) && isAnagram(word, input))
            .map((word) => word.toUpperCase());
          if (categoryResults.length > 0) {
            results.push(`${category}: ${categoryResults.join(", ")}`);
          }
        }
        const resultsText = results.length > 0 ? results.join("\n") : "No matches found.";
        document.getElementById("results").textContent = resultsText;
      }

      function isSubstring(word, input) {
        return input.includes(word);
      }

      function isAnagram(word, input) {
        const wordChars = word.split("").sort();
        const inputChars = input.split("").sort();
        return wordChars.length === inputChars.length && wordChars.every((char, index) => char === inputChars[index]);
      }
    </script>
  </body>
</html>
